{%load static %}
<head>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdn.datatables.net/1.13.4/css/jquery.dataTables.min.css"/>

    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    
    <!-- DataTables JavaScript -->
    <script src="https://cdn.datatables.net/1.13.4/js/jquery.dataTables.min.js"></script>
    
    <!-- Buttons extension -->
    <script type="text/javascript" src="https://cdn.datatables.net/buttons/2.0.0/js/dataTables.buttons.min.js"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/buttons/2.0.0/js/buttons.html5.min.js"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/buttons/2.0.0/js/buttons.print.min.js"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/buttons/2.0.0/js/buttons.colVis.min.js"></script>
    
    <!-- PDFMake library (required for PDF export) -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.70/pdfmake.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.70/vfs_fonts.js"></script>
    
    <!-- JSZip library (required for Excel export) -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.6.0/jszip.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="{% static 'vendor/chart.js/Chart.js' %}"></script>
    <script src="{% static 'vendor/chart.js/Chart.min.js' %}"></script>
    <style>
        .loss{
            background-color:#ffa07a;
            color:black
        }
        .gain{
            background-color:lightgreen;
            color:black
        }
    </style>
</head>

    <h1> Dear Admin</h1>
    
   
    <table id="myTable" class="table">
        <thead>
            <tr>
                <th>Sno.</th>
                <th>Trader name </th>
                <th>Trader capital</th>
                <th>Trader Profits</th>
                <th>Trader Losses</th>
               
            </tr>
        </thead>
        <tbody>
            {% for trader in traders %}
            <tr style="color:black;margin:2px !important">
                <td>{{forloop.counter}}</td>
                <td>{{trader.name}}
                <td>${{ trader.capital|floatformat:3 }}</td>
                <td class="gain"> ${{ trader.total_profit|floatformat:3 }}</td>
                <td class="loss"> ${{ trader.total_loss|floatformat:3 }} </td>
                
               
            </tr>
       

            {% endfor %}
        </tbody>
    </table>
    <script>
    $(document).ready(function() {
        $('#myTable').DataTable({
          dom: 'Bfrtip', // Add the buttons to the DOM
          buttons: [
            'csv', 'pdf', 'excel',  // Specify the buttons you want
          ],
          columnDefs: [{
            targets: 'no-sort', // Exclude sorting for specific columns
            orderable: true
          }]
        });
      });
    </script> 













